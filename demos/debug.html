<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
  <title>调试页面</title>
  <link rel="stylesheet" href="./assets/common.css">
</head>
<body>
<div>
  <canvas id="mountNode" style="position: relative;">
  </canvas>
</div>
<script src="./assets/jquery-3.2.1.min.js"></script>
<script src="../build/f2-all.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.js"></script>
<script>
var data = [
  {province:'北京市',population:19612368},
  {province:'天津市',population:12938693},
  {province:'河北省',population:71854210},
  {province:'山西省',population:27500000},
  {province:'内蒙古自治区',population:24706291},
  {province:'辽宁省',population:43746323},
  {province:'吉林省',population:27452815},
  {province:'黑龙江省',population:38313991},
  {province:'上海市',population:23019196},
  {province:'江苏省',population:78660941},
  {province:'浙江省',population:54426891},
  {province:'安徽省',population:59500468},
  {province:'福建省',population:36894217},
  {province:'江西省',population:44567797},
  {province:'山东省',population:95792719},
  {province:'河南省',population:94029939},
  {province:'湖北省',population:57237727},
  {province:'湖南省',population:65700762},
  {province:'广东省',population:104320459},
  {province:'广西壮族自治区',population:46023761},
  {province:'海南省',population:8671485},
  {province:'重庆市',population:28846170},
  {province:'四川省',population:80417528},
  {province:'贵州省',population:34748556},
  {province:'云南省',population:45966766},
  {province:'西藏自治区',population:3002165},
  {province:'陕西省',population:37327379},
  {province:'甘肃省',population:25575263},
  {province:'青海省',population:5626723}
];

data.sort(function(a, b) {
  return a.population - b.population;
});
// data.reverse()
var chart = new F2.Chart({
  id: 'mountNode',
  width: window.innerWidth,
  height: window.innerWidth * 0.707,
  pixelRatio: window.devicePixelRatio
});

chart.source(data, {
  province: {
    values: ["浙江省","湖北省","安徽省","湖南省","河北省","江苏省","四川省","河南省","山东省","广东省"]
  }
});

chart.coord({
  transposed: true
});

chart.axis('province', {
  line: F2.Global._defaultAxis.line,
  grid: null
});
chart.axis('population', {
  line: null,
  grid: F2.Global._defaultAxis.grid,
  label: function label(text, index, total) {
    var textCfg = {
      text: text / 1000000 + 'm'
    };
    if (index === 0) {
      textCfg.textAlign = 'left';
    } else if (index === total - 1) {
      textCfg.textAlign = 'right';
    }
    return textCfg;
  }
});
chart.tooltip(false);
chart.interaction('pan', {
  mode: 'y'
});
chart.interval().position('province*population');
chart.render();
</script>
</body>
</html>
